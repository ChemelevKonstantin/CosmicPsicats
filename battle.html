<!DOCTYPE html><html lang="uk"><head>
<meta charset="UTF-8" />
<title>Democracy vs Zergs ‚Äì Battle Prototype</title>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
<style>
:root{--g0:#0b0c0f;--g1:#14161b;--g2:#1f2127;--g3:#2b2f37;--white:#f5f5f5;--muted:#c7c7c7;--accent:#ffdd4a;--accent-soft:#fff3a3;--rad:18px;--bg-main:#070709;--bg-alt:#111118;--accent-yellow:#ffd93b;--accent-orange:#ff9248;--accent-red:#ff4b5c;--accent-white:#f4f4f4;--accent-muted:#888;}
*{box-sizing:border-box;margin:0;padding:0;font-family:system-ui,-apple-system,"Segoe UI",sans-serif;-webkit-tap-highlight-color:transparent}
html,body{height:100%;}
body{min-height:100vh;background:linear-gradient(180deg,var(--g1),var(--g0));color:var(--white);overflow:hidden;display:flex;justify-content:center;align-items:stretch;}
.bg-noise{position:fixed;inset:0;pointer-events:none;opacity:.35;z-index:0;background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHZpZXdCb3g9JzAgMCAxMCAxMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48ZyBmaWxsPSdyZ2JhKDAsMCwwLDAuMyknPjxyZWN0IHg9JzAnIHk9JzAnIHdpZHRoPScxJyBoZWlnaHQ9JzEnIC8+PHJlY3QgeD0nNScgeT0nNScgd2lkdGg9JzEnIGhlaWdodD0nMScgLz48L2c+PC9zdmc+");background-size:6px 6px}
.app{width:min(100vw,480px);margin:0 auto;padding:8px 10px 10px;min-height:100vh;height:100vh;display:flex;flex-direction:column;position:relative;z-index:1}
header{display:flex;align-items:center;justify-content:space-between;padding:4px 2px 8px}
.logo-wrap{display:flex;align-items:center;gap:10px}
.logo-box{width:44px;height:44px;border-radius:12px;background:var(--g2);display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 2px var(--g3),0 0 14px rgba(255,221,74,.5);font-size:22px;font-weight:900;color:var(--accent);}
.game-title{display:flex;flex-direction:column;line-height:1.1}
.game-title-main{text-transform:uppercase;font-size:16px;letter-spacing:.1em;font-weight:800;color:var(--accent)}
.game-title-sub{font-size:11px;letter-spacing:.14em;color:var(--muted)}
main{flex:1;position:relative;overflow:hidden}
.screen{position:absolute;inset:0;padding-bottom:4px;display:flex;align-items:stretch;justify-content:center;}
.card{width:100%;background:rgba(15,16,22,.94);border-radius:var(--rad);border:1px solid var(--g3);padding:12px 14px 10px;backdrop-filter:blur(10px);box-shadow:0 10px 22px rgba(0,0,0,.6);display:flex;flex-direction:column;min-height:100%;}
.card-header-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px;font-size:11px;color:var(--muted);}
.card-header-row span.right{font-size:10px;}
#ui-top{position:relative;padding:2px 0 4px;display:flex;flex-direction:column;gap:4px;pointer-events:none;z-index:2;}
.ui-row{display:flex;align-items:center;justify-content:space-between;gap:6px;font-size:12px;text-shadow:0 0 3px #000;flex-wrap:wrap;}
.zone-name{font-weight:700;letter-spacing:.05em;text-transform:uppercase;color:var(--accent-yellow);font-size:11px;}
.tiny-label{font-size:9px;text-transform:uppercase;letter-spacing:.12em;color:var(--accent-muted);}
.hp-bar-wrapper{flex:1;min-width:120px;height:10px;background:rgba(0,0,0,.65);border-radius:999px;border:1px solid rgba(255,255,255,.15);overflow:hidden;}
.hp-bar-inner{width:100%;height:100%;background:linear-gradient(90deg,var(--accent-red),var(--accent-orange),var(--accent-yellow));box-shadow:0 0 6px rgba(255,146,72,.6);transform-origin:left center;}
.hp-text{min-width:70px;text-align:right;font-size:10px;}
.stat-pill{padding:2px 6px;border-radius:999px;background:rgba(0,0,0,.7);border:1px solid rgba(255,217,59,.4);font-size:10px;display:inline-flex;align-items:center;gap:4px;white-space:nowrap;}
.stat-pill span.value{color:var(--accent-yellow);font-weight:700;}
.stats-wrap{display:flex;flex-wrap:wrap;gap:4px;justify-content:flex-end;}
#ui-bottom{position:relative;padding:6px 0 0;display:flex;flex-direction:row;gap:8px;align-items:flex-start;justify-content:space-between;pointer-events:none;}
.bottom-section{display:flex;flex-direction:column;gap:2px;pointer-events:auto;}
.bottom-section.left{flex:1 1 55%;min-width:160px;}
.bottom-section.right{flex:0 0 auto;align-items:flex-end;}
.upgrade-label{font-size:9px;color:var(--accent-muted);margin-bottom:1px;text-transform:uppercase;letter-spacing:.12em;}
#upgradePanel{display:flex;gap:4px;flex-wrap:wrap;max-width:100%;}
.upgrade-btn{font-size:10px;padding:4px 8px;border-radius:8px;border:1px solid rgba(255,255,255,.18);background:rgba(10,10,16,.96);color:var(--accent-white);cursor:pointer;display:inline-flex;flex-direction:row;align-items:center;justify-content:space-between;gap:4px;min-width:78px;max-width:120px;position:relative;overflow:hidden;}
.upgrade-btn::before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(255,217,59,.18),transparent 55%);opacity:0;transition:opacity .15s ease-out;pointer-events:none;}
.upgrade-btn:hover::before{opacity:1;}
.upgrade-title{font-weight:600;letter-spacing:.06em;text-transform:uppercase;font-size:9px;color:var(--accent-yellow);}
.upgrade-cost{font-size:9px;color:var(--accent-orange);font-weight:600;}
.upgrade-btn:disabled{opacity:.4;cursor:default;}
#controlPanel{display:flex;gap:4px;margin-top:0;flex-wrap:wrap;}
.control-btn{font-size:10px;padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.18);background:rgba(5,5,8,.92);color:var(--accent-white);cursor:pointer;text-transform:uppercase;letter-spacing:.12em;}
.control-btn.primary{border-color:var(--accent-yellow);color:var(--accent-yellow);}
.control-btn.danger{border-color:var(--accent-red);color:var(--accent-red);}
.control-btn:disabled{opacity:.4;cursor:default;}
.battle-wrapper{margin-top:6px;display:flex;justify-content:center;align-items:center;flex:1;min-height:0;}
.battle-square{width:100%;aspect-ratio:1/1;border-radius:16px;border:1px solid var(--g3);overflow:hidden;background:black;box-shadow:0 0 18px rgba(0,0,0,.8);position:relative;}
#game{display:block;width:100%;height:100%;}
.footer-row{margin-top:6px;display:flex;justify-content:space-between;font-size:10px;color:var(--muted);}
@media (max-width:720px){.hp-text{text-align:left;}.footer-row{flex-direction:row;gap:6px;}.bottom-section.right{align-items:flex-end;}.app{width:100vw;}}
#settingsButton{position:fixed;left:12px;bottom:12px;width:40px;height:40px;border-radius:999px;border:1px solid rgba(255,255,255,.3);background:radial-gradient(circle at 30% 20%,rgba(255,217,59,.3),rgba(5,5,8,.95));display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:12;box-shadow:0 0 12px rgba(0,0,0,.8);}
#settingsButton span{font-size:20px;}
#settingsPanelOverlay{position:fixed;inset:0;background:radial-gradient(circle at bottom left,rgba(0,0,0,.8),rgba(0,0,0,.96));display:flex;justify-content:flex-start;align-items:flex-end;pointer-events:none;opacity:0;transition:opacity .15s ease-out;z-index:15;}
#settingsPanelOverlay.visible{pointer-events:auto;opacity:1;}
#settingsPanel{width:min(460px,96vw);max-height:min(70vh,540px);margin:12px;background:radial-gradient(circle at top left,#202030,#07070b 70%);border-radius:16px;border:1px solid rgba(255,255,255,.2);box-shadow:0 0 28px rgba(0,0,0,.85);display:flex;flex-direction:column;overflow:hidden;}
.settings-header{padding:10px 12px 8px;display:flex;align-items:center;justify-content:space-between;gap:8px;border-bottom:1px solid rgba(255,255,255,.08);}
.settings-title-block{display:flex;flex-direction:column;gap:2px;}
.settings-title{font-size:13px;text-transform:uppercase;letter-spacing:.16em;color:var(--accent-yellow);}
.settings-subtitle{font-size:10px;color:var(--accent-muted);}
.settings-close-btn{border:none;background:transparent;color:var(--accent-muted);cursor:pointer;font-size:18px;line-height:1;padding:0 4px;}
.settings-body{display:grid;grid-template-columns:1.05fr .95fr;gap:0;font-size:11px;max-height:460px;}
.settings-column{padding:8px 10px 10px;overflow-y:auto;}
.settings-column+.settings-column{border-left:1px solid rgba(255,255,255,.06);}
.settings-column-title{font-size:10px;text-transform:uppercase;letter-spacing:.12em;color:var(--accent-muted);margin-bottom:4px;}
.stat-row{display:flex;justify-content:space-between;align-items:baseline;margin-bottom:3px;gap:4px;}
.stat-name{color:var(--accent-white);}
.stat-name span.key{text-transform:uppercase;letter-spacing:.08em;font-size:9px;color:var(--accent-muted);margin-left:4px;}
.stat-value{font-weight:600;color:var(--accent-yellow);white-space:nowrap;}
.stat-note{font-size:9px;color:var(--accent-muted);}
.settings-footer{padding:6px 10px 7px;border-top:1px solid rgba(255,255,255,.08);display:flex;justify-content:space-between;align-items:center;gap:6px;font-size:10px;color:var(--accent-muted);}
.settings-footer span.highlight{color:var(--accent-yellow);font-weight:600;}
@media (max-width:640px){.settings-body{grid-template-columns:1fr;}.settings-column+.settings-column{border-left:none;border-top:1px solid rgba(255,255,255,.06);}#settingsPanel{max-height:80vh;}}
#evacOverlay{position:fixed;inset:0;background:radial-gradient(circle at center,rgba(0,0,0,.9),rgba(0,0,0,.98));display:flex;align-items:center;justify-content:center;z-index:20;pointer-events:auto;visibility:hidden;opacity:0;transition:opacity .2s ease-out,visibility .2s linear;}
#evacOverlay.visible{visibility:visible;opacity:1;}
.evac-card{width:min(420px,92vw);background:radial-gradient(circle at top,#181824,#050509 70%);border-radius:16px;border:1px solid rgba(255,255,255,.18);box-shadow:0 0 32px rgba(0,0,0,.9);padding:16px 18px 14px;display:flex;flex-direction:column;gap:10px;}
.evac-title{font-size:14px;text-transform:uppercase;letter-spacing:.16em;color:var(--accent-yellow);margin-bottom:4px;}
.evac-sub{font-size:11px;color:var(--accent-muted);margin-bottom:4px;}
.evac-stats{display:grid;grid-template-columns:1fr 1fr;gap:6px 10px;font-size:11px;}
.evac-stats .label{color:var(--accent-muted);text-transform:uppercase;letter-spacing:.08em;font-size:10px;}
.evac-stats .value{display:block;color:var(--accent-white);font-weight:600;}
.evac-actions{margin-top:8px;display:flex;justify-content:flex-end;gap:6px;}
@media (max-width:720px){.evac-stats{grid-template-columns:1fr;}}
</style>
</head>
<body>
<div class="bg-noise"></div>
<div class="app">
  <header>
    <div class="logo-wrap"><div class="logo-box">üòº</div><div class="game-title"><div class="game-title-main">–ö–æ—Å–º—ñ—á–Ω—ñ –ü—Å–∏–∫–æ—Ç–∏</div><div class="game-title-sub">Battle Instance</div></div></div>
    <div style="font-size:10px;color:var(--muted);text-align:right;"><div>Prototype</div><div>Zone survival</div></div>
  </header>
  <main>
    <section class="screen" id="screen-battle">
      <div class="card">
        <div class="card-header-row"><span>–ë–æ–π–æ–≤–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è</span><span class="right">–ü–æ–ª–µ 1:1 –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ä–∞–º–∫–∏</span></div>
        <div id="ui-top"><div class="ui-row"><div style="min-width:0;flex:1 1 140px;display:flex;flex-direction:column;gap:1px;"><div class="tiny-label">–ó–æ–Ω–∞</div><div class="zone-name" id="zoneName">TUTORIAL LANDING ZONE</div></div><div style="flex:1 1 180px;display:flex;flex-direction:column;gap:2px;"><span class="tiny-label">–ë–∞–∑–∞</span><div style="display:flex;align-items:center;gap:4px;"><div class="hp-bar-wrapper"><div class="hp-bar-inner" id="hpBar"></div></div><div class="hp-text" id="hpText">100 / 100</div></div></div><div style="flex:0 0 auto;display:flex;flex-direction:column;gap:2px;align-items:flex-end;"><span class="tiny-label">–†–µ—Å—É—Ä—Å–∏</span><div class="stats-wrap"><div class="stat-pill">üíé <span class="value" id="mineralsText">0</span></div><div class="stat-pill">‚ò†Ô∏è <span class="value" id="killsText">0</span></div><div class="stat-pill">‚è± <span class="value" id="timeText">0.0s</span></div></div></div></div></div>
        <div class="battle-wrapper"><div class="battle-square"><canvas id="game"></canvas></div></div>
        <div id="ui-bottom"><div class="bottom-section left"><span class="upgrade-label">–ê–ø“ë—Ä–µ–π–¥–∏</span><div id="upgradePanel"><button class="upgrade-btn" id="btnDmg" title="–ó–±—ñ–ª—å—à—É—î –±–∞–∑–æ–≤—É —à–∫–æ–¥—É –±–∞–∑–∏."><span class="upgrade-title">ATK+</span><span class="upgrade-cost" id="btnDmgCost">10üíé</span></button><button class="upgrade-btn" id="btnAspd" title="–ó–º–µ–Ω—à—É—î –ø–µ—Ä–µ–∑–∞—Ä—è–¥–∫—É –º—ñ–∂ –ø–æ—Å—Ç—Ä—ñ–ª–∞–º–∏."><span class="upgrade-title">FIRE+</span><span class="upgrade-cost" id="btnAspdCost">12üíé</span></button><button class="upgrade-btn" id="btnHp" title="–ü—ñ–¥–≤–∏—â—É—î –º–∞–∫—Å–∏–º—É–º HP —Ç–∞ —Ç—Ä–æ—Ö–∏ –ª—ñ–∫—É—î."><span class="upgrade-title">HP+</span><span class="upgrade-cost" id="btnHpCost">15üíé</span></button></div></div><div class="bottom-section right"><span class="tiny-label">–ö–µ—Ä—É–≤–∞–Ω–Ω—è</span><div id="controlPanel"><button class="control-btn danger" id="evacBtn">EVAC</button><button class="control-btn primary" id="restartBtn" disabled>RESTART</button></div></div></div>
        <div class="footer-row"><span>–¢–æ—Ä–∫–Ω–∏—Å—å, —â–æ–± —Ä—É—Ö–∞—Ç–∏ –ø—Ä–∏—Ü—ñ–ª.</span><span>Democracy vs Zergs ‚Äì proto</span></div>
      </div>
    </section>
  </main>
</div>
<button id="settingsButton" title="–ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –±–∞–∑–∏ —Ç–∞ –∑–æ–Ω–∏"><span>‚öôÔ∏è</span></button>
<div id="settingsPanelOverlay"><div id="settingsPanel"><div class="settings-header"><div class="settings-title-block"><div class="settings-title">–ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –±–∞–∑–∏ —Ç–∞ –∑–æ–Ω–∏</div><div class="settings-subtitle" id="settingsSubtitle">–°—Ç–∞–Ω –ø–æ–ª—å–æ–≤–æ—ó –±–∞–∑–∏ —Ç–∞ –ø–æ—Ç–æ—á–Ω–æ—ó –∑–æ–Ω–∏</div></div><button class="settings-close-btn" id="settingsCloseBtn" title="–ó–∞–∫—Ä–∏—Ç–∏">‚úï</button></div><div class="settings-body"><div class="settings-column"><div class="settings-column-title">–ë–∞–∑–∞ / –≥—Ä–∞–≤–µ—Ü—å</div><div class="stat-row"><div class="stat-name">HP –±–∞–∑–∏ <span class="key">(hp)</span></div><div class="stat-value" id="statBaseHp">0 / 0</div></div><div class="stat-row"><div class="stat-name">–ê—Ç–∞–∫–∞ –∑–∞ –ø–æ—Å—Ç—Ä—ñ–ª <span class="key">(dmg)</span></div><div class="stat-value" id="statBaseDmg">0</div></div><div class="stat-row"><div class="stat-name">–®–≤–∏–¥–∫—ñ—Å—Ç—å –∞—Ç–∞–∫–∏ <span class="key">(fire rate)</span></div><div class="stat-value" id="statBaseAspd">0</div></div><div class="stat-row"><div class="stat-name">–ü–µ—Ä–µ–∑–∞—Ä—è–¥–∫–∞ <span class="key">(fire delay)</span></div><div class="stat-value" id="statBaseDelay">0</div></div><div class="stat-row"><div class="stat-name">–ú—ñ–Ω–µ—Ä–∞–ª–∏ –∑–∞ –∑–µ—Ä–≥–∞ <span class="key">(minerals/kill)</span></div><div class="stat-value" id="statMineralsPerKill">‚âà0</div></div><div class="stat-row"><div class="stat-name">–ú–Ω–æ–∂–Ω–∏–∫ –≤–∏–Ω–∞–≥–æ—Ä–æ–¥ <span class="key">(reward)</span></div><div class="stat-value" id="statRewardMul">x1.00</div></div><div class="stat-row"><div class="stat-name">–®–∫–æ–¥–∞/—Å–µ–∫ <span class="key">(dps)</span></div><div class="stat-value" id="statDps">0</div></div><div class="stat-row"><div class="stat-name">–¢–∞–ª–æ–Ω–∏ –¥–µ–º–æ–∫—Ä–∞—Ç—ñ—ó <span class="key">(meta)</span></div><div class="stat-value" id="statVouchers">0</div></div><div class="stat-row"><div class="stat-name">–£–±–∏—Ç–æ –∑–µ—Ä–≥—ñ–≤ <span class="key">(kills)</span></div><div class="stat-value" id="statKills">0</div></div><div class="stat-row"><div class="stat-name">–ß–∞—Å –∑–∞–±—ñ–≥—É <span class="key">(time)</span></div><div class="stat-value" id="statRunTime">0.0s</div></div><div class="stat-note">–¢—É—Ç –∑–≥–æ–¥–æ–º –∑'—è–≤–ª—è—Ç—å—Å—è –∫–ª–∞—Å–∏, —Ç–∞–ª–∞–Ω—Ç–∏ —Ç–∞ –º–æ–¥—É–ª—ñ –±–∞–∑–∏.</div></div><div class="settings-column"><div class="settings-column-title">–ü–æ—Ç–æ—á–Ω–∞ –∑–æ–Ω–∞</div><div class="stat-row"><div class="stat-name">–ù–∞–∑–≤–∞ –∑–æ–Ω–∏</div><div class="stat-value" id="statZoneName">‚Äî</div></div><div class="stat-row"><div class="stat-name">–ë–∞–∑–æ–≤–∏–π HP –≤–æ—Ä–æ–≥—ñ–≤</div><div class="stat-value" id="statEnemyBaseHp">‚Äî</div></div><div class="stat-row"><div class="stat-name">–ú–Ω–æ–∂–Ω–∏–∫ HP <span class="key">(hp mul)</span></div><div class="stat-value" id="statEnemyHpMul">x1.00</div></div><div class="stat-row"><div class="stat-name">–ú–Ω–æ–∂–Ω–∏–∫ —à–≤–∏–¥–∫–æ—Å—Ç—ñ <span class="key">(spd)</span></div><div class="stat-value" id="statEnemySpeedMul">x1.00</div></div><div class="stat-row"><div class="stat-name">–Ü–Ω—Ç–µ—Ä–≤–∞–ª —Å–ø–∞–≤–Ω—É</div><div class="stat-value" id="statSpawnInterval">‚Äî</div></div><div class="stat-row"><div class="stat-name">–°–µ—Ä–µ–¥–Ω—ñ–π —á–∞—Å –∂–∏—Ç—Ç—è</div><div class="stat-value" id="statAvgLife">‚Äî</div></div><div class="stat-row"><div class="stat-name">–ó–µ—Ä–≥–∏/—Ö–≤ <span class="key">(est)</span></div><div class="stat-value" id="statZergPerMin">‚Äî</div></div><div class="stat-row"><div class="stat-name">–ú—ñ–Ω–µ—Ä–∞–ª–∏/—Ö–≤ <span class="key">(est)</span></div><div class="stat-value" id="statMineralsPerMin">‚Äî</div></div><div class="stat-row"><div class="stat-name">–ù–µ–±–µ–∑–ø–µ–∫–∞ –∑–æ–Ω–∏</div><div class="stat-value" id="statZoneDanger">–ù–∏–∑—å–∫–∞</div></div><div class="stat-note">–î–∞–ª—ñ –º–æ–∂–Ω–∞ –±—É–¥–µ –¥–æ–¥–∞—Ç–∏: –∞–Ω–æ–º–∞–ª—ñ—ó, –º–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∏, –æ—Å–æ–±–ª–∏–≤—ñ –∑–µ—Ä–≥–∏.</div></div></div><div class="settings-footer"><span>–ß–∏–º –¥–æ–≤—à–µ —Ç—Ä–∏–º–∞—î—à—Å—è, —Ç–∏–º –∑–ª—ñ—à—ñ –∑–µ—Ä–≥–∏.&nbsp;<span class="highlight">–ú—ñ–Ω–µ—Ä–∞–ª–∏ –Ω–µ –∑–±–∏—Ä–∞—é—Ç—å—Å—è —Å–∞–º—ñ.</span></span><span>–ë–µ—Ç–∞-–ø—Ä–æ—Ç–æ—Ç–∏–ø –ø–∞–Ω–µ–ª—ñ —Å—Ç–∞—Ç—É—Å—É.</span></div></div></div>
<div id="evacOverlay"><div class="evac-card"><div class="evac-title" id="evacTitle">EVAC COMPLETE</div><div class="evac-sub" id="evacSub">–í–∞—à–∞ –±–∞–∑–∞ –ø–µ—Ä–µ–¥–∞–ª–∞ –¥–∞–Ω—ñ –ø—Ä–æ –∞—Ç–∞–∫—É. –ü–∞—Ä–∞ –∑–µ—Ä–≥—ñ–≤ –≤—Å–µ —â–µ –≥—Ä–∏–∑–µ –æ–±—à–∏–≤–∫—É, –∞–ª–µ —Ü–µ –≤–∂–µ –Ω–µ –≤–∞—à–∞ –ø—Ä–æ–±–ª–µ–º–∞.</div><div class="evac-stats"><div><span class="label">–ó–æ–Ω–∞</span><span class="value" id="evacZoneName">TUTORIAL LANDING ZONE</span></div><div><span class="label">–†–µ–∑—É–ª—å—Ç–∞—Ç</span><span class="value" id="evacResult">EVAC</span></div><div><span class="label">–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å</span><span class="value" id="evacTime">0.0s</span></div><div><span class="label">–ó–Ω–∏—â–µ–Ω–æ –∑–µ—Ä–≥—ñ–≤</span><span class="value" id="evacKills">0</span></div><div><span class="label">–ú—ñ–Ω–µ—Ä–∞–ª–∏</span><span class="value" id="evacMinerals">0</span></div><div><span class="label">–¢–∞–ª–æ–Ω–∏ –¥–µ–º–æ–∫—Ä–∞—Ç—ñ—ó</span><span class="value" id="evacVouchers">0</span></div></div><div class="evac-actions"><button class="control-btn" id="closeEvacBtn">–ó–∞–∫—Ä–∏—Ç–∏</button><button class="control-btn primary" id="playAgainBtn">–©–µ —Ä–∞–∑</button></div></div></div>
<script>
(()=>{const canvas=document.getElementById("game"),ctx=canvas.getContext("2d");function resizeCanvas(){const rect=canvas.getBoundingClientRect();canvas.width=rect.width;canvas.height=rect.height;}resizeCanvas();window.addEventListener("resize",resizeCanvas);const zoneNameEl=document.getElementById("zoneName"),hpBarEl=document.getElementById("hpBar"),hpTextEl=document.getElementById("hpText"),mineralsTextEl=document.getElementById("mineralsText"),killsTextEl=document.getElementById("killsText"),timeTextEl=document.getElementById("timeText"),btnDmg=document.getElementById("btnDmg"),btnAspd=document.getElementById("btnAspd"),btnHp=document.getElementById("btnHp"),btnDmgCostEl=document.getElementById("btnDmgCost"),btnAspdCostEl=document.getElementById("btnAspdCost"),btnHpCostEl=document.getElementById("btnHpCost"),evacBtn=document.getElementById("evacBtn"),restartBtn=document.getElementById("restartBtn"),evacOverlay=document.getElementById("evacOverlay"),evacTitleEl=document.getElementById("evacTitle"),evacSubEl=document.getElementById("evacSub"),evacZoneNameEl=document.getElementById("evacZoneName"),evacResultEl=document.getElementById("evacResult"),evacTimeEl=document.getElementById("evacTime"),evacKillsEl=document.getElementById("evacKills"),evacMineralsEl=document.getElementById("evacMinerals"),evacVouchersEl=document.getElementById("evacVouchers"),closeEvacBtn=document.getElementById("closeEvacBtn"),playAgainBtn=document.getElementById("playAgainBtn"),settingsButton=document.getElementById("settingsButton"),settingsPanelOverlay=document.getElementById("settingsPanelOverlay"),settingsCloseBtn=document.getElementById("settingsCloseBtn"),statBaseHpEl=document.getElementById("statBaseHp"),statBaseDmgEl=document.getElementById("statBaseDmg"),statBaseAspdEl=document.getElementById("statBaseAspd"),statBaseDelayEl=document.getElementById("statBaseDelay"),statMineralsPerKillEl=document.getElementById("statMineralsPerKill"),statRewardMulEl=document.getElementById("statRewardMul"),statDpsEl=document.getElementById("statDps"),statVouchersEl=document.getElementById("statVouchers"),statKillsEl=document.getElementById("statKills"),statRunTimeEl=document.getElementById("statRunTime"),statZoneNameEl=document.getElementById("statZoneName"),statEnemyBaseHpEl=document.getElementById("statEnemyBaseHp"),statEnemyHpMulEl=document.getElementById("statEnemyHpMul"),statEnemySpeedMulEl=document.getElementById("statEnemySpeedMul"),statSpawnIntervalEl=document.getElementById("statSpawnInterval"),statAvgLifeEl=document.getElementById("statAvgLife"),statZergPerMinEl=document.getElementById("statZergPerMin"),statMineralsPerMinEl=document.getElementById("statMineralsPerMin"),statZoneDangerEl=document.getElementById("statZoneDanger");let meta={democracyVouchers:0};const baseZoneConfig={name:"TUTORIAL LANDING ZONE",baseHp:120,spawnInterval:1.2,enemyHpMul:1,enemySpeedMul:1,rewardMul:1};let currentZoneConfig={...baseZoneConfig},player,bullets=[],enemies=[],gameRunning=false,runEnded=false,lastFrameTime=0,elapsedTime=0,killCount=0,minerals=0,spawnTimer=0,spawnInterval=currentZoneConfig.spawnInterval,lifetimeEnemyCounter=0,lifetimeSpawnCounter=0,dmgCost=10,aspdCost=12,hpCost=15;const dmgCostScale=1.4,aspdCostScale=1.45,hpCostScale=1.5,ENEMY_BASE_HP=25;function createPlayer(){const cx=canvas.width/2,cy=canvas.height/2;player={x:cx,y:cy,radius:16,maxHp:currentZoneConfig.baseHp,hp:currentZoneConfig.baseHp,dmg:12,fireCooldown:0,fireDelay:.45};}function spawnEnemy(){const m=40,s=Math.floor(Math.random()*4);let x,y;if(s===0){x=Math.random()*canvas.width;y=-m;}else if(s===1){x=canvas.width+m;y=Math.random()*canvas.height;}else if(s===2){x=Math.random()*canvas.width;y=canvas.height+m;}else{x=-m;y=Math.random()*canvas.height;}const hp=ENEMY_BASE_HP*(currentZoneConfig.enemyHpMul+elapsedTime*.02),speed=40*currentZoneConfig.enemySpeedMul*(1+Math.random()*.2);enemies.push({x,y,radius:9,hp,maxHp:hp,speed});lifetimeSpawnCounter++;}function shootAtTarget(t){if(!t||player.fireCooldown>0)return;const dx=t.x-player.x,dy=t.y-player.y,dist=Math.sqrt(dx*dx+dy*dy)||1,speed=360,vx=dx/dist*speed,vy=dy/dist*speed;bullets.push({x:player.x,y:player.y,vx,vy,radius:4,dmg:player.dmg});player.fireCooldown=player.fireDelay;}function resetRun(){bullets.length=0;enemies.length=0;createPlayer();elapsedTime=0;killCount=0;minerals=0;spawnTimer=0;spawnInterval=currentZoneConfig.spawnInterval;dmgCost=10;aspdCost=12;hpCost=15;runEnded=false;gameRunning=true;restartBtn.disabled=true;evacBtn.disabled=false;lifetimeEnemyCounter=0;lifetimeSpawnCounter=0;updateUpgradeCostText();updateUi();updateStatsPanel();}function formatTime(t){return t.toFixed(1)+"s";}function updateUpgradeCostText(){btnDmgCostEl.textContent=dmgCost+"üíé";btnAspdCostEl.textContent=aspdCost+"üíé";btnHpCostEl.textContent=hpCost+"üíé";}function estimateMineralsPerKill(){const base=4;return base*currentZoneConfig.rewardMul*(1+elapsedTime*.03);}function computeDps(){if(player.fireDelay<=0)return 0;const sps=1/player.fireDelay;return sps*player.dmg;}function updateStatsPanel(){if(!player)return;statBaseHpEl.textContent=player.hp.toFixed(0)+" / "+player.maxHp.toFixed(0);statBaseDmgEl.textContent=player.dmg.toFixed(1);const fireRate=player.fireDelay>0?1/player.fireDelay:0;statBaseAspdEl.textContent=fireRate.toFixed(2)+" –ø–æ—Å—Ç—Ä./—Å";statBaseDelayEl.textContent=player.fireDelay.toFixed(3)+" —Å";const mineralsPerKill=estimateMineralsPerKill();statMineralsPerKillEl.textContent="‚âà"+mineralsPerKill.toFixed(1);statRewardMulEl.textContent="x"+currentZoneConfig.rewardMul.toFixed(2);const dps=computeDps();statDpsEl.textContent=dps.toFixed(1);statVouchersEl.textContent=meta.democracyVouchers.toFixed(0);statKillsEl.textContent=killCount.toFixed(0);statRunTimeEl.textContent=formatTime(elapsedTime);statZoneNameEl.textContent=currentZoneConfig.name.toUpperCase();statEnemyBaseHpEl.textContent=ENEMY_BASE_HP.toFixed(0);statEnemyHpMulEl.textContent="x"+currentZoneConfig.enemyHpMul.toFixed(2);statEnemySpeedMulEl.textContent="x"+currentZoneConfig.enemySpeedMul.toFixed(2);statSpawnIntervalEl.textContent=spawnInterval.toFixed(2)+" —Å";const avgLife=3+Math.max(0,6-fireRate*2);statAvgLifeEl.textContent=avgLife.toFixed(1)+" —Å (–æ—Ü—ñ–Ω–∫–∞)";const zergsPerMin=spawnInterval>0?60/spawnInterval:0;statZergPerMinEl.textContent=zergsPerMin.toFixed(1);const mineralsPerMin=zergsPerMin*mineralsPerKill;statMineralsPerMinEl.textContent=mineralsPerMin.toFixed(1);const dangerScore=currentZoneConfig.enemyHpMul+currentZoneConfig.enemySpeedMul;let dangerLabel="–ù–∏–∑—å–∫–∞";if(dangerScore>2.5)dangerLabel="–í–∏—Å–æ–∫–∞";else if(dangerScore>1.6)dangerLabel="–°–µ—Ä–µ–¥–Ω—è";statZoneDangerEl.textContent=dangerLabel;}function updateUi(){if(!player)return;const r=Math.max(0,player.hp)/player.maxHp;hpBarEl.style.transform="scaleX("+r+")";hpTextEl.textContent=Math.max(0,player.hp.toFixed(0))+" / "+player.maxHp.toFixed(0);mineralsTextEl.textContent=minerals.toFixed(0);killsTextEl.textContent=killCount.toFixed(0);timeTextEl.textContent=formatTime(elapsedTime);btnDmg.disabled=minerals<dmgCost;btnAspd.disabled=minerals<aspdCost;btnHp.disabled=minerals<hpCost;}function endRun(reason){if(runEnded)return;runEnded=true;gameRunning=false;restartBtn.disabled=false;evacBtn.disabled=true;const vouchersGained=Math.floor(minerals/25);meta.democracyVouchers+=vouchersGained;evacZoneNameEl.textContent=currentZoneConfig.name.toUpperCase();evacResultEl.textContent=reason==="death"?"–ë–ê–ó–£ –ó'–á–õ–ò":"EVAC";evacTimeEl.textContent=formatTime(elapsedTime);evacKillsEl.textContent=killCount.toFixed(0);evacMineralsEl.textContent=minerals.toFixed(0);evacVouchersEl.textContent=vouchersGained.toFixed(0);if(reason==="death"){evacTitleEl.textContent="BASE OVERRUN";evacSubEl.textContent="–ó–µ—Ä–≥–∏ –≤–ª–∞—à—Ç—É–≤–∞–ª–∏ –±—É—Ñ–µ—Ç –∑ –¥–µ–º–æ–∫—Ä–∞—Ç—ñ—ó. –ê–ª–µ —à—Ç–∞–± —É–∂–µ –ø–ª–∞–Ω—É—î –Ω–æ–≤–∏–π –¥–µ—Å–∞–Ω—Ç.";}else{evacTitleEl.textContent="EVAC COMPLETE";evacSubEl.textContent="–í–∏ –≤—Å—Ç–∏–≥–ª–∏ –≤—Ç–µ–∫—Ç–∏ –¥–æ —Ç–æ–≥–æ, —è–∫ –∑–µ—Ä–≥–∏ –¥—ñ—Å—Ç–∞–ª–∏—Å—è –∫–∞–≤–æ–≤–∞—Ä–∫–∏. –®—Ç–∞–± –∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π.";}evacOverlay.classList.add("visible");updateStatsPanel();}const mouse={x:0,y:0};canvas.addEventListener("mousemove",e=>{const r=canvas.getBoundingClientRect();mouse.x=e.clientX-r.left;mouse.y=e.clientY-r.top;});btnDmg.addEventListener("click",()=>{if(minerals>=dmgCost){minerals-=dmgCost;player.dmg+=4;dmgCost=Math.ceil(dmgCost*dmgCostScale);updateUpgradeCostText();updateUi();updateStatsPanel();}});btnAspd.addEventListener("click",()=>{if(minerals>=aspdCost){minerals-=aspdCost;player.fireDelay=Math.max(.12,player.fireDelay*.88);aspdCost=Math.ceil(aspdCost*aspdCostScale);updateUpgradeCostText();updateUi();updateStatsPanel();}});btnHp.addEventListener("click",()=>{if(minerals>=hpCost){minerals-=hpCost;const bonus=player.maxHp*.15;player.maxHp+=bonus;player.hp=Math.min(player.maxHp,player.hp+bonus*.5);hpCost=Math.ceil(hpCost*hpCostScale);updateUpgradeCostText();updateUi();updateStatsPanel();}});evacBtn.addEventListener("click",()=>{if(!gameRunning)return;endRun("evac");});restartBtn.addEventListener("click",()=>{evacOverlay.classList.remove("visible");resetRun();});closeEvacBtn.addEventListener("click",()=>{evacOverlay.classList.remove("visible");});playAgainBtn.addEventListener("click",()=>{evacOverlay.classList.remove("visible");resetRun();});function toggleSettingsPanel(force){const visible=settingsPanelOverlay.classList.contains("visible"),show=typeof force==="boolean"?force:!visible;if(show){settingsPanelOverlay.classList.add("visible");updateStatsPanel();}else settingsPanelOverlay.classList.remove("visible");}settingsButton.addEventListener("click",()=>toggleSettingsPanel());settingsCloseBtn.addEventListener("click",()=>toggleSettingsPanel(false));settingsPanelOverlay.addEventListener("click",e=>{if(e.target===settingsPanelOverlay)toggleSettingsPanel(false);});function update(dt){if(!gameRunning||!player)return;elapsedTime+=dt;spawnTimer+=dt;const minInterval=.4;spawnInterval=Math.max(minInterval,currentZoneConfig.spawnInterval-elapsedTime*.02);if(spawnTimer>=spawnInterval){spawnTimer=0;spawnEnemy();}if(player.fireCooldown>0){player.fireCooldown-=dt;if(player.fireCooldown<0)player.fireCooldown=0;}let target=null,minDist=Infinity;for(const e of enemies){const dx=e.x-player.x,dy=e.y-player.y,dist=dx*dx+dy*dy;if(dist<minDist){minDist=dist;target=e;}}shootAtTarget(target);for(let i=bullets.length-1;i>=0;i--){const b=bullets[i];b.x+=b.vx*dt;b.y+=b.vy*dt;if(b.x<-40||b.x>canvas.width+40||b.y<-40||b.y>canvas.height+40)bullets.splice(i,1);}for(let i=enemies.length-1;i>=0;i--){const e=enemies[i],dx=player.x-e.x,dy=player.y-e.y,dist=Math.sqrt(dx*dx+dy*dy)||1,vx=dx/dist*e.speed,vy=dy/dist*e.speed;e.x+=vx*dt;e.y+=vy*dt;for(let j=bullets.length-1;j>=0;j--){const b=bullets[j],bdx=b.x-e.x,bdy=b.y-e.y,d2=bdx*bdx+bdy*bdy,rSum=e.radius+b.radius;if(d2<=rSum*rSum){e.hp-=b.dmg;bullets.splice(j,1);if(e.hp<=0){enemies.splice(i,1);killCount++;const baseReward=4;minerals+=baseReward*currentZoneConfig.rewardMul*(1+elapsedTime*.03);lifetimeEnemyCounter++;}break;}}const pdx=e.x-player.x,pdy=e.y-player.y,pd2=pdx*pdx+pdy*pdy,prSum=e.radius+player.radius;if(pd2<=prSum*prSum){const dmg=e.maxHp*.35;player.hp-=dmg;enemies.splice(i,1);}}if(player.hp<=0){player.hp=0;updateUi();updateStatsPanel();endRun("death");}else{updateUi();if(Math.random()<.3)updateStatsPanel();}}function draw(){if(!player)return;ctx.clearRect(0,0,canvas.width,canvas.height);ctx.save();ctx.fillStyle="rgba(255,255,255,0.04)";for(let i=0;i<40;i++){const x=i*53%canvas.width,y=i*97%canvas.height,r=(i%3)*.3+.2;ctx.beginPath();ctx.arc(x,y,r,0,Math.PI*2);ctx.fill();}ctx.restore();const auraRadius=player.radius+10;ctx.save();const grad=ctx.createRadialGradient(player.x,player.y,player.radius*.5,player.x,player.y,auraRadius);grad.addColorStop(0,"rgba(255,217,59,0.45)");grad.addColorStop(1,"rgba(255,146,72,0)");ctx.fillStyle=grad;ctx.beginPath();ctx.arc(player.x,player.y,auraRadius,0,Math.PI*2);ctx.fill();ctx.restore();ctx.save();ctx.beginPath();ctx.fillStyle="#111111";ctx.strokeStyle="#ffd93b";ctx.lineWidth=2;ctx.arc(player.x,player.y,player.radius,0,Math.PI*2);ctx.fill();ctx.stroke();ctx.beginPath();ctx.fillStyle="#202020";ctx.arc(player.x,player.y,player.radius*.5,0,Math.PI*2);ctx.fill();ctx.restore();ctx.save();for(const b of bullets){ctx.beginPath();ctx.fillStyle="#ffb347";ctx.arc(b.x,b.y,b.radius,0,Math.PI*2);ctx.fill();}ctx.restore();ctx.save();for(const e of enemies){ctx.beginPath();ctx.fillStyle="#ff4b5c";ctx.arc(e.x,e.y,e.radius,0,Math.PI*2);ctx.fill();ctx.strokeStyle="#ff9248";ctx.lineWidth=1.6;for(let i=0;i<6;i++){const a=i/6*Math.PI*2,ex=e.x+Math.cos(a)*(e.radius-2),ey=e.y+Math.sin(a)*(e.radius-2),ex2=e.x+Math.cos(a)*(e.radius+3),ey2=e.y+Math.sin(a)*(e.radius+3);ctx.beginPath();ctx.moveTo(ex,ey);ctx.lineTo(ex2,ey2);ctx.stroke();}const w=e.radius*2,h=3,x=e.x-w/2,y=e.y-e.radius-7,ratio=Math.max(0,e.hp/e.maxHp);ctx.fillStyle="rgba(0,0,0,0.7)";ctx.fillRect(x,y,w,h);ctx.fillStyle="#ffd93b";ctx.fillRect(x,y,w*ratio,h);}ctx.restore();}function loop(ts){if(!lastFrameTime)lastFrameTime=ts;const dt=(ts-lastFrameTime)/1000;lastFrameTime=ts;update(dt);draw();requestAnimationFrame(loop);}function startBattle(zoneConfig){currentZoneConfig={...baseZoneConfig,...(zoneConfig||{})};zoneNameEl.textContent=currentZoneConfig.name.toUpperCase();resetRun();}window.startBattle=startBattle;startBattle(baseZoneConfig);requestAnimationFrame(loop);})();
</script>
</body>
</html>
